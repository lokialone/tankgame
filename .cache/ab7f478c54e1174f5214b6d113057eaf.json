{"dependencies":[{"name":"./bullet.js","loc":{"line":1,"column":19}}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bullet = require(\"./bullet.js\");\n\nvar _bullet2 = _interopRequireDefault(_bullet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nclass Tank {\n  constructor() {\n    this.tankWidth = 50;\n    this.tankHeight = 50;\n\n    this.gunturretWidth = 30;\n    this.gunturretHeight = 20;\n\n    this.cannonHeight = 30;\n    this.cannonDiameter = 6;\n\n    // tank的圆角\n    this.borderRadius = 5;\n    this.slotBulletFlag = true;\n    this.margin = 5;\n    // tank的重心坐标\n    this.x = 0;\n    this.y = 0;\n\n    this.direction = 0;\n    this.speed = 2;\n\n    this.bullets = [];\n    this.blood = 3;\n  }\n\n  setLocation(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  updateCenter(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  rotate(deg) {\n    this.direction = deg;\n  }\n\n  setDirection(direction) {\n    if (this.direction !== direction) {\n      this.rotate(direction);\n    }\n  }\n  goLeft() {\n    this.setDirection(Direction.LEFT);\n    this.x -= this.speed;\n  }\n\n  goRight() {\n    this.setDirection(Direction.RIGHT);\n    this.x += this.speed;\n  }\n\n  goUp() {\n    this.setDirection(Direction.UP);\n    this.y -= this.speed;\n  }\n  goDown() {\n    this.setDirection(Direction.DOWN);\n    this.y += this.speed;\n  }\n  slotBullet() {\n    this.bullets.push(new _bullet2.default(this.x, this.y, this.direction));\n  }\n  checkCollision() {\n    if (p.dist(this.x, this.y, x, y) <= Math.sqrt(2 * this.tankWidth * this.tankWidth)) {\n      return true;\n    }\n    return false;\n  }\n  render(p) {\n    // render bullets\n    for (var i = 0; i < this.bullets.length; i++) {\n      this.bullets[i].render(p);\n      this.bullets[i].update(p);\n    }\n\n    p.push();\n    // 坦克的body\n    p.translate(this.x, this.y);\n    p.rotate(this.direction);\n    p.fill(255, 204, 0);\n    p.rect(-this.tankWidth / 2, -this.tankHeight / 2, this.tankWidth, this.tankHeight, this.borderRadius);\n    //坦克的炮台\n    p.fill(153, 204, 0);\n    p.rect(-this.gunturretWidth / 2, -this.gunturretHeight / 2, this.gunturretWidth, this.gunturretHeight, this.borderRadius);\n    // 坦克的大炮\n    p.fill(255, 255, 255);\n    p.rect(-this.cannonDiameter / 2, -this.gunturretHeight / 2 - this.cannonHeight, this.cannonDiameter, this.cannonHeight);\n\n    p.pop();\n  }\n}\n\nexports.default = Tank;"},"hash":"0044cdb27e5da0b67cbdd3196cedb574"}